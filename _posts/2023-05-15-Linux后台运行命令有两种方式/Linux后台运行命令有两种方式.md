# Linux后台运行命令有两种方式：

`cmd &` ： 后台运行，关掉终端会停止运行
`nohup cmd &` ： 后台运行，关掉终端不会停止运行

## 方式一：`cmd &`

cmd & 实现让命令在后台运行。但不要将有用户交互的命令放到后台，这样命令会在后台等待用户输入。后台运行的命令也会将结果输出到控制台上，如果不需要的话，可以将其重定向到某个文件中。使用下面的命令可以将标准输出和错误输出都将被重定向到一个叫做cmd.out的文件中：

```shell
cmd  >  cmd.out  2>&1  &
```

执行命令成功后，会显示一个进程号，可以用它来监控（`ps -ef | grep` 进程号）或者杀死（`kill -9` 进程号）进程。

## 方式二：`nohup cmd &`

使用方法一的时候，当我们关闭终端，命令就会停止运行。加上`nohup`可以在关闭终端后不停止命令。该命令的一般形式为：

```shell
nohup command &
```

默认情况下，该命令的所有输出都被重定向到`nohup.out`文件中。也可以使用下面的命令来指定输出文件为`nohupcmd.out`：

```shell
nohup command > nohupcmd.out 2>&1 &
```

nohup只有在使用exit命令正常退出终端，才能保证命令一直在后台运行。终端异常退出后台命令也会停止运行。
其他相关命令：
ctrl + z：将正在前台执行的命令放到后台，且让命令处于暂停状态。
jobs：查看当前有多少在后台运行的命令，-l选项可显示所有任务的PID。
fg：将后台命令放回前台运行。
bg：将嵌套命令放到后台运行。